---
title: "Workflow"
---

# Section 4: Concrete example

## Scenario: API endpoint change

An engineer merges a PR that adds a new `priority` parameter to the `/handoff/route` endpoint, allowing customers to set escalation priority when routing conversations from AI to human agents.

This is the kind of mid-sized change that can easily fall through the cracks.

---

## How the system handles it

\`\`\`

  DETECT          TRIAGE          DRAFT           REFINE          REVIEW          VALIDATE        PUBLISH

 Automated     Manual      Automated      Manual     Manual      Automated       Automated

─────────── → ─────────── → ─────────── → ─────────── → ─────────── → ─────────── → ───────────

 AI scans       TW checks       AI opens        TW edits       Eng + PM         CI runs         Merge →

 merged PR,     the diff,       docs PR w/      draft for      review for       link checks,    auto-deploy,

 flags doc      confirms        first draft     voice and      accuracy and     linting,        Slack

 impact         scope           + checklist     accuracy       messaging        code tests      notification

\`\`\`

As much automation is included as possible while maintaining manual verification and quality control.

---

## What the system produces (3 minutes)

### Step 1: Auto-created issue

The AI diff scan detects the new parameter and opens an issue in the docs repo:

\> \*\*[AI Detected] New parameter on /handoff/route: `priority`\*\*

\>

\> \*\*AI Analysis\*\*

\> \*\*Reason:\*\* New `priority` parameter (values: `low`, `normal`, `high`, `urgent`) added to the `/handoff/route` endpoint. This is user-facing and changes how customers configure handoff routing.

\> \*\*Severity:\*\* High

\> \*\*Suggested pages to update:\*\* `api-reference/handoff.md`, `guides/agent-handoff.md`

\>

\> \*\*Source PR:\*\* product-repo#1847 — "Add priority parameter to handoff routing"

\>

\> Labels: `ai-detected`, `needs-triage`

\>

\> ---

\> _Auto-detected by AI diff scan. Verify before acting._

### Step 2: Tech Writer Triages

I review the issue, check the source PR, and confirm:

- This is a \*\*behaviour change\*\*. An existing endpoint gains a new parameter

- Two pages need updating: the API reference and the handoff guide

- Timeline: within 2 business days of deploy

- I apply the `ready-for-draft` label → triggers the AI drafting workflow

### Step 3: AI drafts content

The `ready-for-draft` label triggers an AI agent that reads the source PR diff, any linked Jira tickets, and the existing doc structure. It commits a first draft to a new branch and opens a PR:

\> \*\*PR: [Draft] Update handoff routing docs for `priority` parameter\*\*

\>

\> \*\*Source issue:\*\* #342

\> \*\*Status:\*\* First draft. Requires review.

\>

\> ### Review checklist

\> - [ ] \*\*Tech writer:\*\* Voice, structure, completeness

\> - [ ] \*\*Engineering:\*\* Technical accuracy, code examples correct

\> - [ ] \*\*Product:\*\* Messaging alignment

\> - [ ] All `<!-- TODO: verify -->` comments resolved

\> - [ ] Related pages updated (cross-links)

\> - [ ] CI checks passing

\>

\> ---

\> _Auto-generated by the docs drafting workflow. Expect to edit substantially._

#### The AI draft

\`\`\`markdown

## Priority Routing

Set escalation priority when handing off conversations to human agents.

The `priority` parameter determines queue position and agent matching.

| Priority | Behaviour |

|----------|-----------|

| `low` | Standard queue, next available agent |

| `normal` | Standard queue (default) |

| `high` | Moved up in queue, preferred agent matching |

| `urgent` | Top of queue, senior agent routing |

### Example

`\`\\\`python

handoff = client.handoff.route(

    conversation_id="conv_123",

    reason="Customer requests human agent",

    priority="high",  # New: set escalation priority

    context={

        "detected_intent": "billing_dispute",

        "sentiment": "frustrated"

    }

)

`\`\\\`

\<!-- TODO: verify default value — is it "normal" or "low"? --\>

\<!-- TODO: verify whether "urgent" triggers notifications to team leads --\>

\`\`\`

### Step 5: Tech Writer edits

I refine the draft: verify the TODOs myself or with an engineer, if necessary, improve the framing, and add context for non-technical users:

\`\`\`markdown

## Priority routing

Control how urgently handoff requests are treated. Higher-priority

conversations reach agents faster and are matched with more experienced

team members.

| Priority | Description | Default |

|----------|--------------|--------|

| `low` | Joins the standard queue. Next available agent. | |

| `normal` | Joins the standard queue. | x |

| `high` | Moved ahead in the queue. Matched with preferred agents. | |

| `urgent` | Top of queue. Routed to senior agents. Team leads notified. | |

\> \*\*Tip:\*\* Use `high` or `urgent` for conversations where sentiment

\> analysis detects frustration. You can automate this in your

\> [routing rules](/guides/routing-rules).

### Example

`\`\\\`python

handoff = client.handoff.route(

    conversation_id="conv_123",

    reason="Customer requests human agent",

    priority="high",

    context={

        "detected_intent": "billing_dispute",

        "sentiment": "frustrated"

    }

)

`\`\\\`

\`\`\`

\*\*What changed between draft and final:\*\*

- Resolved both TODO comments (confirmed default is `normal`; confirmed `urgent` notifies team leads)

- Rewrote table column from "Behaviour" → "Description" (plainer language)

- Added a tip linking to routing rules (cross-referencing, user enablement)

- Removed redundant phrasing

### Step 6: Review, Validate, Publish

- \*\*Engineering\*\* confirms code example and parameter values are correct

- \*\*Product\*\* confirms messaging fits the feature positioning

- \*\*CI\*\* runs automatically: link checks pass, code snippet parses, style linting clean

- \*\*PR merged\*\* → auto-deploys → Slack notification to #docs channel

## Summary: automation vs. human at each stage

| Stage | Type | Owner | Time |

|-------|------|-------|------|

| 1. Detect | \*\*Automated\*\* | GitHub Actions + AI | Minutes |

| 2. Triage | \*\*Manual\*\* | Tech Writer | 15–30 min |

| 3. Draft | \*\*Automated\*\* | AI agent | Minutes |

| 4. Refine | \*\*Manual\*\* | Tech Writer | 1–2 hours |

| 5. Review | \*\*Manual\*\* | Engineering + Product | 1 day |

| 6. Validate | \*\*Automated\*\* | CI pipeline | Minutes |

| 7. Publish | \*\*Automated\*\* | Auto-deploy | Seconds |

\*\*Humans spend time on judgment and quality. Machines handle detection, drafting, validation, and deployment.\*\*